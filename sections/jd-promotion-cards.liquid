{{ 'jd-promotion-cards.css' | asset_url | stylesheet_tag }}

<!-- Promotion Cards Section -->
<section class="jd-promotion-cards">
  <div class="jd-promotion-cards__container">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'custom_card' %}
          <!-- Custom Jewelry Card -->
          <div class="jd-promotion-card jd-promotion-card--custom" {{ block.shopify_attributes }}>
            <div class="jd-promotion-card__image">
              <div class="jd-promotion-card__image-circle">
                {% if block.settings.card_image != blank %}
                  <img 
                    src="{{ block.settings.card_image | image_url: width: 300 }}" 
                    alt="{{ block.settings.card_image.alt | default: block.settings.card_title }}"
                    width="300" 
                    height="300" 
                    loading="lazy"
                  >
                {% else %}
                  <div class="jd-promotion-card__placeholder">
                    <svg width="100" height="100" viewBox="0 0 100 100" fill="none">
                      <rect width="100" height="100" fill="#333" rx="50"/>
                      <text x="50" y="55" text-anchor="middle" fill="#fff" font-size="12">No Image</text>
                    </svg>
                  </div>
                {% endif %}
              </div>
            </div>
            <div class="jd-promotion-card__content">
              {% if block.settings.card_subtitle != blank %}
                <div class="jd-promotion-card__subtitle">{{ block.settings.card_subtitle }}</div>
              {% endif %}
              {% if block.settings.card_title != blank %}
                <div class="jd-promotion-card__title">{{ block.settings.card_title }}</div>
              {% endif %}
            </div>
            <div class="jd-promotion-card__icon">
              <div class="jd-promotion-card__icon-circle">
                <svg width="32" height="32" viewBox="0 0 16 16" fill="none">
                  <path d="M4 12L12 4M12 4H6M12 4V10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
            {% if block.settings.card_link != blank %}
              <a href="{{ block.settings.card_link }}" class="jd-promotion-card__link"></a>
            {% endif %}
          </div>

        {% when 'celebrity_card' %}
          <!-- Celebrity Endorsements Card -->
          <div class="jd-promotion-card jd-promotion-card--celebrity" {{ block.shopify_attributes }}>
            <div class="jd-promotion-card__header">
              {% if block.settings.celebrity_title != blank %}
                <div class="jd-promotion-card__title">
                  {{ block.settings.celebrity_title }}
                  {% if block.settings.celebrity_highlight != blank %}
                    <span class="jd-promotion-card__highlight">{{ block.settings.celebrity_highlight }}</span>
                  {% endif %}
                </div>
              {% endif %}
            </div>
            <div class="jd-promotion-card__celebrities">
              {% for i in (1..3) %}
                {% assign image_setting = 'celebrity_image_' | append: i %}
                {% assign image = block.settings[image_setting] %}
                {% if image != blank %}
                  <div class="jd-promotion-card__celebrity">
                    <img 
                      src="{{ image | image_url: width: 80 }}" 
                      alt="{{ image.alt | default: 'Celebrity' }}"
                      width="80" 
                      height="80" 
                      loading="lazy"
                    >
                  </div>
                {% endif %}
              {% endfor %}
              <div class="jd-promotion-card__icon1">
                <div class="jd-promotion-card__icon-circle">
                  <svg width="32" height="32" viewBox="0 0 16 16" fill="none">
                    <path d="M8 3V13M3 8H13" stroke="white" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </div>
              </div>
            </div>
            {% if block.settings.celebrity_link != blank %}
              <a href="{{ block.settings.celebrity_link }}" class="jd-promotion-card__link"></a>
            {% endif %}
          </div>
      {% endcase %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "JD Promotion Cards",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "custom_card",
      "name": "Custom Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Card Image"
        },
        {
          "type": "text",
          "id": "card_subtitle",
          "label": "Subtitle",
          "default": "CUSTOM BLING, CUSTOM FLEX"
        },
        {
          "type": "textarea",
          "id": "card_title",
          "label": "Title",
          "default": "Create Your Own Custom Ice\nPieces"
        },
        {
          "type": "url",
          "id": "card_link",
          "label": "Card Link"
        }
      ]
    },
    {
      "type": "celebrity_card",
      "name": "Celebrity Card",
      "settings": [
        {
          "type": "text",
          "id": "celebrity_title",
          "label": "Title",
          "default": "Celebs That"
        },
        {
          "type": "text",
          "id": "celebrity_highlight",
          "label": "Highlighted Text",
          "default": "Choose Us"
        },
        {
          "type": "image_picker",
          "id": "celebrity_image_1",
          "label": "Celebrity Image 1"
        },
        {
          "type": "image_picker",
          "id": "celebrity_image_2",
          "label": "Celebrity Image 2"
        },
        {
          "type": "image_picker",
          "id": "celebrity_image_3",
          "label": "Celebrity Image 3"
        },
        {
          "type": "url",
          "id": "celebrity_link",
          "label": "Card Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "JD Promotion Cards",
      "blocks": [
        {
          "type": "custom_card",
          "settings": {
            "card_subtitle": "CUSTOM BLING, CUSTOM FLEX",
            "card_title": "Create Your Own Custom Ice\nPieces"
          }
        },
        {
          "type": "celebrity_card",
          "settings": {
            "celebrity_title": "Celebs That",
            "celebrity_highlight": "Choose Us"
          }
        }
      ]
    }
  ]
}
{% endschema %}